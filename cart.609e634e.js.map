{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,WAGA,MAAMC,EAAO,CACXC,MAAOC,SAASC,cAAc,aAC9BC,OAAQF,SAASC,cAAc,cAC/BE,SAAUH,SAASC,cAAc,iBACjCG,SAAUJ,SAASC,cAAc,qBACjCI,UAAWL,SAASC,cAAc,kBAClCK,cAAeN,SAASC,cAAc,oBAGxC,SAASM,KACH,EAAAX,EAAAY,iBACFV,EAAKC,MAAMU,UAAUC,IAAI,QACzBZ,EAAKI,OAAOO,UAAUE,OAAO,QAC7Bb,EAAKK,SAASM,UAAUE,OAAO,QAC/Bb,EAAKM,SAASK,UAAUE,OAAO,QAC/Bb,EAAKQ,cAAcG,UAAUE,OAAO,UAEpCb,EAAKC,MAAMU,UAAUE,OAAO,QAC5Bb,EAAKI,OAAOO,UAAUC,IAAI,QAC1BZ,EAAKK,SAASM,UAAUC,IAAI,QAC5BZ,EAAKM,SAASK,UAAUC,IAAI,QAC5BZ,EAAKQ,cAAcG,UAAUC,IAAI,QAErC,CAEAH,IAEAT,EAAKI,OAAOU,iBAAiB,SAASC,IACpCA,EAAEC,kBACF,EAAAlB,EAAAmB,UAAS,gBAAgB,GACzBC,aAAaC,WAAW,QACxBD,aAAaE,QACbX,IACIY,OAAOC,SAASC,SAASC,SAAS,eACpC,EAAA1B,EAAA2B,WAAO,IAIXzB,EAAKK,SAASS,iBAAiB,SAAS,MACtC,EAAAhB,EAAA2B,UAAS,YAAa,YAExBzB,EAAKM,SAASQ,iBAAiB,SAAS,MACtC,EAAAhB,EAAA2B,UAAS,YAAa,gBAExBzB,EAAKQ,cAAcM,iBAAiB,SAAS,MAC3C,EAAAhB,EAAA2B,UAAS,sBAEXzB,EAAKO,UAAUO,iBAAiB,SAAS,MACvC,EAAAhB,EAAA2B,WAAO,IAGT,WACE,MAAMC,EAAOL,OAAOC,SAASC,SACvBI,EAASN,OAAOC,SAASK,OAE3BA,EAAOH,SAAS,QAClBxB,EAAKK,SAASM,UAAUC,IAAI,eACnBe,EAAOH,SAAS,YACzBxB,EAAKM,SAASK,UAAUC,IAAI,eACnBc,EAAKF,SAAS,eAEdE,EAAKF,SAAS,cACvBxB,EAAKQ,cAAcG,UAAUC,IAAI,eAEjCZ,EAAKO,UAAUI,UAAUC,IAAI,eAEjC,CAEAgB","sources":["src/scripts/pages-scripts/header.js"],"sourcesContent":["import { isAuthorized, redirect, saveToLS } from '../helpers.js';\nimport { HOST } from '../constants.js';\n\nconst refs = {\n  logIn: document.querySelector('.js-login'),\n  logOut: document.querySelector('.js-logout'),\n  cartList: document.querySelector('.js-cart-link'),\n  wishList: document.querySelector('.js-wishlist-link'),\n  storeLink: document.querySelector('.js-store-link'),\n  userGamesLink: document.querySelector('.js-users-games'),\n};\n\nfunction checkAuth() {\n  if (isAuthorized()) {\n    refs.logIn.classList.add('hide');\n    refs.logOut.classList.remove('hide');\n    refs.cartList.classList.remove('hide');\n    refs.wishList.classList.remove('hide');\n    refs.userGamesLink.classList.remove('hide');\n  } else {\n    refs.logIn.classList.remove('hide');\n    refs.logOut.classList.add('hide');\n    refs.cartList.classList.add('hide');\n    refs.wishList.classList.add('hide');\n    refs.userGamesLink.classList.add('hide');\n  }\n}\n\ncheckAuth();\n\nrefs.logOut.addEventListener('click', e => {\n  e.preventDefault();\n  saveToLS('isAuthorized', false);\n  localStorage.removeItem('user');\n  localStorage.clear();\n  checkAuth();\n  if (window.location.pathname.includes('cart.html')) {\n    redirect();\n  }\n});\n\nrefs.cartList.addEventListener('click', () => {\n  redirect('cart.html', '?cart');\n});\nrefs.wishList.addEventListener('click', () => {\n  redirect('cart.html', '?wishlist');\n});\nrefs.userGamesLink.addEventListener('click', () => {\n  redirect('user-games.html');\n});\nrefs.storeLink.addEventListener('click', () => {\n  redirect();\n});\n\nfunction checkActiveLink() {\n  const path = window.location.pathname;\n  const search = window.location.search;\n\n  if (search.includes('cart')) {\n    refs.cartList.classList.add('active-link');\n  } else if (search.includes('wishlist')) {\n    refs.wishList.classList.add('active-link');\n  } else if (path.includes('game-info')) {\n    // refs.storeLink.classList.add('active-link');\n  } else if (path.includes('user-games')) {\n    refs.userGamesLink.classList.add('active-link');\n  } else {\n    refs.storeLink.classList.add('active-link');\n  }\n}\n\ncheckActiveLink();\n"],"names":["$fDHq9","parcelRequire","$5adc14825a3e90b7$var$refs","logIn","document","querySelector","logOut","cartList","wishList","storeLink","userGamesLink","$5adc14825a3e90b7$var$checkAuth","isAuthorized","classList","add","remove","addEventListener","e","preventDefault","saveToLS","localStorage","removeItem","clear","window","location","pathname","includes","redirect","path","search","$5adc14825a3e90b7$var$checkActiveLink"],"version":3,"file":"cart.609e634e.js.map"}