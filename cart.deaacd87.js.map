{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,WAGA,MAAMC,EAAO,CACXC,MAAOC,SAASC,cAAc,aAC9BC,OAAQF,SAASC,cAAc,cAC/BE,SAAUH,SAASC,cAAc,iBACjCG,SAAUJ,SAASC,cAAc,qBACjCI,UAAWL,SAASC,cAAc,mBAGpC,SAASK,KACH,EAAAV,EAAAW,iBACFT,EAAKC,MAAMS,UAAUC,IAAI,QACzBX,EAAKI,OAAOM,UAAUE,OAAO,QAC7BZ,EAAKK,SAASK,UAAUE,OAAO,QAC/BZ,EAAKM,SAASI,UAAUE,OAAO,UAE/BZ,EAAKC,MAAMS,UAAUE,OAAO,QAC5BZ,EAAKI,OAAOM,UAAUC,IAAI,QAC1BX,EAAKK,SAASK,UAAUC,IAAI,QAC5BX,EAAKM,SAASI,UAAUC,IAAI,QAEhC,CAEAH,IAEAR,EAAKI,OAAOS,iBAAiB,SAASC,IACpCA,EAAEC,kBACF,EAAAjB,EAAAkB,UAAS,gBAAgB,GACzBC,aAAaC,WAAW,QACxBV,IACIW,OAAOC,SAASC,SAASC,SAAS,eACpC,EAAAxB,EAAAyB,WAAO,IAIXvB,EAAKK,SAASQ,iBAAiB,SAAS,MACtC,EAAAf,EAAAyB,UAAS,YAAa,YAExBvB,EAAKM,SAASO,iBAAiB,SAAS,MACtC,EAAAf,EAAAyB,UAAS,YAAa,gBAGxB,WACE,MAAMC,EAAOL,OAAOC,SAASC,SACvBI,EAASN,OAAOC,SAASK,OAE3BA,EAAOH,SAAS,QAClBtB,EAAKK,SAASK,UAAUC,IAAI,eACnBc,EAAOH,SAAS,YACzBtB,EAAKM,SAASI,UAAUC,IAAI,eACnBa,EAAKF,SAAS,cAGvBtB,EAAKO,UAAUG,UAAUC,IAAI,cAEjC,CAEAe","sources":["src/scripts/pages-scripts/header.js"],"sourcesContent":["import { isAuthorized, redirect, saveToLS } from '../helpers.js';\nimport { HOST } from '../constants.js';\n\nconst refs = {\n  logIn: document.querySelector('.js-login'),\n  logOut: document.querySelector('.js-logout'),\n  cartList: document.querySelector('.js-cart-link'),\n  wishList: document.querySelector('.js-wishlist-link'),\n  storeLink: document.querySelector('.js-store-link'),\n};\n\nfunction checkAuth() {\n  if (isAuthorized()) {\n    refs.logIn.classList.add('hide');\n    refs.logOut.classList.remove('hide');\n    refs.cartList.classList.remove('hide');\n    refs.wishList.classList.remove('hide');\n  } else {\n    refs.logIn.classList.remove('hide');\n    refs.logOut.classList.add('hide');\n    refs.cartList.classList.add('hide');\n    refs.wishList.classList.add('hide');\n  }\n}\n\ncheckAuth();\n\nrefs.logOut.addEventListener('click', e => {\n  e.preventDefault();\n  saveToLS('isAuthorized', false);\n  localStorage.removeItem('user');\n  checkAuth();\n  if (window.location.pathname.includes('cart.html')) {\n    redirect();\n  }\n});\n\nrefs.cartList.addEventListener('click', () => {\n  redirect('cart.html', '?cart');\n});\nrefs.wishList.addEventListener('click', () => {\n  redirect('cart.html', '?wishlist');\n});\n\nfunction checkActiveLink() {\n  const path = window.location.pathname;\n  const search = window.location.search;\n\n  if (search.includes('cart')) {\n    refs.cartList.classList.add('active-link');\n  } else if (search.includes('wishlist')) {\n    refs.wishList.classList.add('active-link');\n  } else if (path.includes('game-info')) {\n    // refs.storeLink.classList.add('active-link');\n  } else {\n    refs.storeLink.classList.add('active-link');\n  }\n}\n\ncheckActiveLink();\n"],"names":["$fDHq9","parcelRequire","$5adc14825a3e90b7$var$refs","logIn","document","querySelector","logOut","cartList","wishList","storeLink","$5adc14825a3e90b7$var$checkAuth","isAuthorized","classList","add","remove","addEventListener","e","preventDefault","saveToLS","localStorage","removeItem","window","location","pathname","includes","redirect","path","search","$5adc14825a3e90b7$var$checkActiveLink"],"version":3,"file":"cart.deaacd87.js.map"}